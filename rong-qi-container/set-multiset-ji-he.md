---
description: STLä¸­set/multisetç±»çš„è¯¦ç»†ä»‹ç»
---

# ğŸµ set / multiset - é›†åˆ

## set/multiset å®¹å™¨åŸºæœ¬æ¦‚å¿µ

### set å®¹å™¨åŸºæœ¬æ¦‚å¿µ

setçš„ç‰¹æ€§æ˜¯ï¼Œæ‰€æœ‰çš„å®¹å™¨éƒ½ä¼šæ ¹æ®å…ƒç´ è‡ªèº«çš„é”®å€¼è¿›è¡Œè‡ªåŠ¨è¢«æ’åºã€‚

setçš„å…ƒç´ ä¸åƒmapé‚£æ ·å¯ä»¥åŒæ—¶æ‹¥æœ‰å®å€¼å’Œé”®å€¼ï¼Œsetçš„å…ƒç´ æ—¢æ˜¯å®å€¼åˆæ˜¯é”®å€¼ã€‚

* setä¸å…è®¸ä¸¤ä¸ªå…ƒç´ æœ‰ç›¸åŒçš„é”®å€¼

æˆ‘ä»¬ä¸å¯ä»¥é€šè¿‡setçš„è¿­ä»£å™¨æ”¹å˜setå…ƒç´ çš„å€¼ã€‚

* å› ä¸ºå…¶å…ƒç´ å€¼å°±æ˜¯é”®å€¼ï¼Œä»»æ„æ”¹å˜ä¼šä¸¥é‡ç ´åsetçš„ç»„ç»‡
* æ¢å¥è¯è¯´ï¼Œsetçš„iteratoræ˜¯ä¸€ç§const\_iterator

setå’Œlistæ‹¥æœ‰æŸäº›ç›¸åŒçš„æ€§è´¨ï¼Œå½“å¯¹å®¹å™¨ä¸­çš„å…ƒç´ è¿›è¡Œæ’å…¥æ“ä½œæˆ–è€…åˆ é™¤æ“ä½œçš„æ—¶å€™ï¼Œé™¤äº†è¢«åˆ é™¤çš„å…ƒç´ ä¹‹å¤–ï¼Œæ“ä½œä¹‹å‰çš„æ‰€æœ‰è¿­ä»£å™¨ï¼Œæ“ä½œä¹‹åä»ç„¶æœ‰æ•ˆã€‚

### multiset åŸºæœ¬æ¦‚å¿µ

* multisetç‰¹æ€§åŠç”¨æ³•å’Œsetå®Œå…¨ç›¸åŒï¼Œå”¯ä¸€çš„å·®åˆ«åœ¨äºå®ƒå…è®¸é”®å€¼é‡å¤ã€‚
* setå’Œmultisetçš„åº•å±‚å®ç°æ˜¯**çº¢é»‘æ ‘**ï¼Œçº¢é»‘æ ‘ä¸ºå¹³è¡¡äºŒå‰æ ‘çš„ä¸€ç§

> æ³¨æ„ï¼Œmultisetå’Œsetå…±ç”¨ä¸€ä¸ªå¤´æ–‡ä»¶ã€‚

![](https://images.unsplash.com/photo-1581361265618-8e33511bb9b7?crop=entropy\&cs=srgb\&fm=jpg\&ixid=MnwxOTcwMjR8MHwxfHNlYXJjaHwzfHxzZXRzfGVufDB8fHx8MTY0NDUwMzYwNQ\&ixlib=rb-1.2.1\&q=85)

## set çš„éå†

```cpp
for (set<T>::iterator it = s.begin(); it != s.end(); it++)
{
  	cout << *it << endl;
}
```

## set å¸¸ç”¨API

### set æ„é€ å‡½æ•°

```cpp
set<T> st; // set é»˜è®¤æ„é€ å‡½æ•°
multiset<T> mst; // multiset é»˜è®¤æ„é€ å‡½æ•°
set(const set& st); // æ‹·è´æ„é€ å‡½æ•°
```

### set èµ‹å€¼æ“ä½œ

```cpp
set& operator=(const set& st); // é‡è½½ç­‰å·æ“ä½œç¬¦

swap(st); // äº¤æ¢ä¸¤ä¸ªé›†åˆå®¹å™¨
```

### set å¤§å°æ“ä½œ

```cpp
int size(); // è¿”å›å®¹å™¨ä¸­å…ƒç´ çš„æ•°ç›®
bool empty(); // åˆ¤æ–­å®¹å™¨æ˜¯å¦ä¸ºç©º
```

### set æ’å…¥å’Œåˆ é™¤æ“ä½œ

```cpp
pair<iterator, bool> insert(T elem); 
// åœ¨å®¹å™¨ä¸­æ’å…¥å…ƒç´ ï¼Œè¿”å›æ’å…¥ä½ç½®çš„è¿­ä»£å™¨ï¼ˆä¸æˆåŠŸåˆ™è¿”å›end()ï¼‰å’Œæ˜¯å¦æ’å…¥æˆåŠŸ
// å¦‚æœæ˜¯multisetï¼Œåˆ™è¿”å›å€¼åªæœ‰iterator
clear(); // æ¸…é™¤æ‰€æœ‰å…ƒç´ 
iterator erase(pos); // åˆ é™¤posè¿­ä»£å™¨æ‰€æŒ‡çš„å…ƒç´ ï¼Œè¿”å›ä¸‹ä¸€ä¸ªå…ƒç´ çš„è¿­ä»£å™¨
iterator erase(beg, end); // åˆ é™¤åŒºé—´[beg, end)å†…çš„æ‰€æœ‰å…ƒç´ ï¼Œè¿”å›ä¸‹ä¸€ä¸ªå…ƒç´ çš„è¿­ä»£å™¨
erase(T elem); // åˆ é™¤å®¹å™¨ä¸­å€¼ä¸ºelemçš„å…ƒç´ 
```

æ’å…¥ä¹‹å‰å¯ä»¥æŒ‡å®šæ’åºè§„åˆ™ï¼š

```cpp
//åˆ©ç”¨ä»¿å‡½æ•° æŒ‡å®šsetå®¹å™¨çš„æ’åºè§„åˆ™
class MyCompare
{
public:
    bool operator()(int v1, int v2)
    {
        return v1 > v2;
    }
};

set<int, MyCompare> s;

//æ¨¡ç‰ˆç±»ä¹Ÿæ˜¯å¯ä»¥æœ‰é»˜è®¤å€¼çš„ï¼Œç¬¬äºŒä¸ªæ¨¡ç‰ˆå‚æ•°çš„é»˜è®¤å€¼ä¸ºless
```

> è‡ªå®šä¹‰çš„æ•°æ®ç±»å‹éœ€è¦æŒ‡å‡ºæ’åºè§„åˆ™ã€‚
>
> å½“ç„¶ï¼Œä¹Ÿå¯ä»¥é€šè¿‡é‡è½½å°äºæ“ä½œç¬¦çš„æ–¹å¼æŒ‡å‡ºã€‚

### set æŸ¥æ‰¾æ“ä½œ

```cpp
iterator find(T key); 
// æŸ¥æ‰¾é”®keyæ˜¯å¦å­˜åœ¨ï¼Œè‹¥å­˜åœ¨ï¼Œè¿”å›è¯¥é”®çš„å…ƒç´ çš„è¿­ä»£å™¨ï¼›è‹¥ä¸å­˜åœ¨ï¼Œè¿”å›set.end();
int count(T key);
// æŸ¥æ‰¾é”®keyçš„å…ƒç´ ä¸ªæ•°
iterator lower_bound(T keyElem);
// è¿”å›ç¬¬ä¸€ä¸ªkey>=keyElemå…ƒç´ çš„è¿­ä»£å™¨
iterator upper_bound(T keyElem);
// è¿”å›ç¬¬ä¸€ä¸ªkey>keyElemå…ƒç´ çš„è¿­ä»£å™¨
pair<iterator, iterator> equal_range(T keyElem);
// è¿”å›å®¹å™¨ä¸­keyä¸keyElemä¸Šç›¸ç­‰çš„ä¸¤ä¸ªä¸Šä¸‹é™è¿­ä»£å™¨
```

> ä¸Šè¿°å‡ ä¸ªæ–¹æ³•è‹¥ä¸å­˜åœ¨ï¼Œè¿”å›å€¼éƒ½æ˜¯å°¾è¿­ä»£å™¨ã€‚

å¯¹ç»„çš„æ„é€ å’Œä½¿ç”¨ï¼š

```cpp
//æ„é€ 
pair<T1, T2> p(k, v);
//å¦ä¸€ç§æ„é€ æ–¹å¼
pair<T1, T2> p = make_pair(k, v);
//ä½¿ç”¨
cout << p.first << p.second << endl;
```

{% hint style="success" %}
è‡³æ­¤ï¼Œè¯»è€…åº”å½“å¯¹set/multisetçš„ç‰¹ç‚¹åŠåŸºæœ¬æ“ä½œæœ‰äº†è¾ƒä¸ºå…¨é¢çš„è®¤è¯†ï¼Œä½¿ç”¨æ—¶APIè®°ä¸æ¸…å¯ä»¥å›å¤´å¤šçœ‹ã€‚
{% endhint %}
